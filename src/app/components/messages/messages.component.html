<div class="container bg-light text-center" *ngIf="room">
  <div class="row">
    <div class="col-12">
      <div class="my-form-container">
        <form [formGroup]="newMessageForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col-12 d-flex">
              <mat-form-field color="accent" class=" full-width-form mt-2 mb-0">
                <mat-label>Správa</mat-label>
                <textarea matInput type="text" formControlName="content"
                          placeholder="Napíšte niečo..."></textarea>
              </mat-form-field>
              <button mat-fab type="submit" class="bg-warning mt-2 ml-1"><i class="far fa-paper-plane"></i></button>
            </div>
          </div>
        </form>
        <hr class="mt-0 mb-2">
      </div>
    </div>
    <div class="col-lg-12 pre-scrollable">
      <ul class="pl-0 d-flex m-0" *ngFor="let message of messages.reverse()">
        <mat-card class="m-2">
          <mat-card-content class="d-flex justify-content-between align-items-center" >
            <div class="text-left">
              {{ message.content }}
            </div>
            <div>
              <button mat-icon-button type="button" style="color: white" (click)="likeMessage(message.idMessage)">
                <i *ngIf="likes[message.idMessage]!=true" class="far fa-heart"></i>
                <i *ngIf="likes[message.idMessage]==true" class="fas fa-heart"></i>
                {{ message.likesCount }}
              </button>
            </div>
          </mat-card-content>
        </mat-card>
        <button *ngIf="author==true" mat-mini-fab class="bg-warning myButton m-0 p-0" (click)="deleteMessage(message.idMessage)">
          <mat-icon class="myIcon">close</mat-icon>
        </button>
      </ul>
    </div>
  </div>
</div>

